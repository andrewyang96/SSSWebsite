<% var parseList = function (json, firstLevel) { %>
	<% if (firstLevel) { %>
		<li id="section"><strong><%= section %></strong></li>
		<% Object.keys(json).forEach(function (item) { %>
			<li>
				<% var itemobj = json[item]; %>
				<% // console.log(itemobj); %>
				<% if (Object.keys(itemobj['children']).length > 0) { %>
					<a href="<%= itemobj['uri'] %>"><%= item %> <span class="ui-icon ui-icon-carat-1-s"></span></a>
					<% // console.log("recursive call from 1st level"); %>
					<% parseList(itemobj['children'], false) %>
				<% } else { %>
					<a href="<%= itemobj['uri'] %>"><%= item %></a>
				<% } %>
			</li>
		<% }); %>
	<% } else { %>
		<% Object.keys(json).forEach(function (item) { %>
			<li>&nbsp;&nbsp;&nbsp;&nbsp;
				<% var itemobj = json[item]; %>
				<% // console.log(itemobj); %>
				<% if (Object.keys(itemobj['children']).length > 0) { %>
					<a href="<%= itemobj['uri'] %>"><%= item %> <span class="ui-icon ui-icon-carat-1-s"></span></a>
					<% // console.log("recursive call"); %>
					<% parseList(itemobj['children'], false) %>
				<% } else { %>
					<a href="<%= itemobj['uri'] %>"><%= item %></a>
				<% } %>
			</li>
		<% }); %>
	<% } %>
	
<% } %>

<ul class="sidebar">
	<% parseList(sideNav['children'], true) %>
</ul>
